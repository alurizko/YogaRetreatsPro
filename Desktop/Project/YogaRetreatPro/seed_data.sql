-- Seed data for 10 tables with int4 IDs, matching supabase_doc_schema.sql
-- Run this after executing supabase_doc_schema.sql

BEGIN;

-- USERS
INSERT INTO users (id, email, first_name, password_hash, role, created_at)
VALUES
(1,'ivan@example.com','Иван Петров','$2a$10$...','user','2023-10-01 12:00:00'),
(2,'maria@example.com','Мария Сидорова','$2a$10$...','user','2023-10-02 14:30:00'),
(3,'anna@example.com','Анна Иванова','$2a$10$...','instructor','2023-09-15 09:15:00'),
(4,'alex@example.com','Алексей Козлов','$2a$10$...','user','2023-10-05 11:20:00'),
(5,'elena@example.com','Елена Смирнова','$2a$10$...','admin','2023-08-20 16:45:00'),
(6,'dima@example.com','Дмитрий Волков','$2a$10$...','user','2023-10-10 10:00:00'),
(7,'sofia@example.com','София Морозова','$2a$10$...','instructor','2023-09-10 08:00:00'),
(8,'petr@example.com','Петр Новиков','$2a$10$...','user','2023-10-12 13:10:00'),
(9,'olga@example.com','Ольга Коваль','$2a$10$...','user','2023-10-15 17:30:00'),
(10,'misha@example.com','Михаил Павлов','$2a$10$...','instructor','2023-09-01 10:00:00')
ON CONFLICT (id) DO NOTHING;

-- INSTRUCTORS
INSERT INTO instructors (id, first_name, last_name, bio, photo_url)
VALUES
(1,'Анна','Иванова','Опытный инструктор с 10-летним стажем...','/photos/anna.jpg'),
(2,'София','Морозова','Сертифицированный преподаватель виньяса-йоги...','/photos/sofia.jpg'),
(3,'Михаил','Павлов','Ведущий мастер-классов по йоге...','/photos/mikhail.jpg'),
(4,'Екатерина','Лебедева','Основатель студии "YogaFlow"...','/photos/ekaterina.jpg'),
(5,'Артем','Григорьев','Специалист по йоге для спортсменов...','/photos/artem.jpg'),
(6,'Алиса','Яковлева','Проводит ретриты по всему миру...','/photos/alisa.jpg'),
(7,'Виктор','Сафронов','Ученик известных мастеров из Индии...','/photos/viktor.jpg'),
(8,'Полина','Захарова','Фитнес-тренер и инструктор по йоге...','/photos/polina.jpg'),
(9,'Глеб','Тимофеев','Создатель методики "Йога в городе"...','/photos/gleb.jpg'),
(10,'Валерия','Федорова','Доктор-реабилитолог и инструктор...','/photos/valeria.jpg')
ON CONFLICT (id) DO NOTHING;

-- RETREATS
INSERT INTO retreats (id, title, description, location, start_date, end_date, price)
VALUES
(1,'Выходные йоги в Карпатах','Короткий выезд для перезагрузки среди гор...','с. Яблонница, Ивано-Франковская обл.','2024-02-16','2024-02-18',6000.00),
(2,'Ретрит "Весеннее возрождение"','7 дней углубленной практики и медитации...','пгт. Славское, Львовская обл.','2024-04-10','2024-04-17',18000.00),
(3,'Йога и медитация на побережье','Утренние практики на берегу Черного моря...','пгт. Затока, Одесская обл.','2024-07-05','2024-07-12',16000.00),
(4,'Аштанга интенсив в Киеве','Углубленное изучение первой серии Аштанги...','г. Киев, йога-студия "Просто Небо"','2024-03-15','2024-03-17',5000.00),
(5,'Женская йога на Подолье','Специальная программа для женщин среди природы...','с. Бакота, Хмельницкая обл.','2024-06-14','2024-06-16',5500.00),
(6,'Детокс и йога на Синевире','Очищение тела и разума у самого большого озера...','с. Синевир, Закарпатская обл.','2024-08-20','2024-08-27',19000.00),
(7,'Осенний ретрит в Полесье','Йога и прогулки сосновыми лесами...','с. Селезовка, Житомирская обл.','2024-10-01','2024-10-06',12000.00),
(8,'Хатха-йога для начинающих','Базовый курс для тех, кто только начинает...','г. Львов, йога-центр "Равновесие"','2024-05-10','2024-05-12',4500.00),
(9,'Медитация и молчание на Волыни','Ретрит в режиме молчания (мауна)...','с. Переспа, Волынская обл.','2024-09-13','2024-09-15',4800.00),
(10,'Кундалини йога в Харькове','Энергетические практики и пранаямы...','г. Харьков, пространство "Синхронность"','2024-11-08','2024-11-10',5200.00)
ON CONFLICT (id) DO NOTHING;

-- RETREAT_INSTRUCTORS
INSERT INTO retreat_instructors (id, retreat_id, instructor_id) VALUES
(1,1,1),(2,1,2),(3,2,3),(4,2,5),(5,3,1),(6,4,2),(7,5,3),(8,6,4),(9,7,6),(10,8,1)
ON CONFLICT (id) DO NOTHING;

-- RETREAT_APPLICATIONS (mapping your data -> name/description/status)
INSERT INTO retreat_applications (id, name, description, status)
VALUES
(1,'Application from user 1 for retreat 2','Очень хочу погрузиться в практику в горах...','approved'),
(2,'Application from user 2 for retreat 1','Ищу короткий отдых от города...','pending'),
(3,'Application from user 4 for retreat 3','Мечтаю побывать на Байкале и совместить с йогой...','rejected'),
(4,'Application from user 6 for retreat 4','Люблю виньясу и море!...','approved'),
(5,'Application from user 8 for retreat 5','Хочу освоить базовые принципы Аштанги...','pending'),
(6,'Application from user 1 for retreat 6','Интересна тема детокса...','approved'),
(7,'Application from user 9 for retreat 7','Это будет мой первый ретрит в Индии...','pending'),
(8,'Application from user 2 for retreat 8','Я новичок, ищу подходящий курс...','approved'),
(9,'Application from user 4 for retreat 9','Нужна перезагрузка и тишина...','pending'),
(10,'Application from user 6 for retreat 10','Ищу женское сообщество и практику...','approved')
ON CONFLICT (id) DO NOTHING;

-- BOOKINGS (participants default 1, map payment_id -> stripe_payment_intent_id)
INSERT INTO bookings (id, users_id, retreat_id, status, stripe_payment_intent_id, participants, booking_date)
VALUES
(1,1,2,'confirmed','pay_abc123',1, NOW()),
(2,6,4,'confirmed','pay_def456',1, NOW()),
(3,1,6,'confirmed','pay_ghi789',1, NOW()),
(4,2,8,'confirmed','pay_jkl012',1, NOW()),
(5,6,10,'confirmed','pay_mno345',1, NOW()),
(6,8,5,'pending',NULL,1, NOW()),
(7,9,7,'pending',NULL,1, NOW()),
(8,4,9,'pending',NULL,1, NOW()),
(9,2,1,'cancelled','pay_pqr678',1, NOW()),
(10,4,3,'cancelled','pay_stu901',1, NOW())
ON CONFLICT (id) DO NOTHING;

-- REFUND_REQUESTS
INSERT INTO refund_requests (id, booking_id, reason, status, request_date)
VALUES
(1,9,'Изменились планы, не смогу поехать.','approved', NOW()),
(2,10,'Нашлись семейные обстоятельства.','approved', NOW()),
(3,1,'Не подошли даты, перенес отпуск.','rejected', NOW()),
(4,5,'Нашел ретрит дешевле.','pending', NOW()),
(5,7,'Не одобрили визу.','pending', NOW()),
(6,1,'(дублирующий запрос) Проблемы со здоровьем.','pending', NOW()),
(7,3,'(для отмененного бронирования) Не пришел ваучер.','rejected', NOW()),
(8,6,'Передумал участвовать.','pending', NOW()),
(9,6,'Сломал ногу, есть справка от врача.','approved', NOW()),
(10,2,'Не понравилось отношение менеджера.','pending', NOW())
ON CONFLICT (id) DO NOTHING;

-- REVIEWS
INSERT INTO reviews (id, user_id, retreat_id, rating, comment, created_at)
VALUES
(1,1,2,5,'Невероятные горы и сильная практика!...','2024-03-25 10:00:00'),
(2,6,4,4,'Отличные инструкторы, но еда могла быть лучше...','2024-05-30 14:20:00'),
(3,2,8,5,'Как раз для новичков! Все понятно объясняли...','2024-03-05 09:15:00'),
(4,1,6,3,'Детокс программа слабая, локация супер...','2024-06-20 11:45:00'),
(5,6,10,5,'Очень атмосферно и душевно. Вернусь еще!...','2024-09-15 16:30:00'),
(6,4,1,4,'Коротко, но со смыслом. Хороший уикенд...','2024-02-13 12:00:00'),
(7,8,5,2,'Слишком интенсивно, не рассчитали силы...','2024-04-08 08:50:00'),
(8,9,3,5,'Байкал - магия! Организация на высоте...','2024-07-10 18:00:00'),
(9,2,2,5,'Второй раз на этом ретрите, снова восторг!...','2024-03-26 13:10:00'),
(10,1,4,4,'Динамично и мощно. Сочи прекрасен...','2024-05-28 17:05:00')
ON CONFLICT (id) DO NOTHING;

-- BLOG_POSTS
INSERT INTO blog_posts (id, author_id, title, content, created_at)
VALUES
(1,5,'5 причин поехать на йога-ретрит','<p>Йога-ретрит – это не просто отдых...</p>','2023-11-01 09:00:00'),
(2,3,'Как подготовиться к первому ретриту?','<p>Волнение перед первой поездкой – это нормально...</p>','2023-11-05 12:30:00'),
(3,5,'Интервью с инструктором Анной Ивановой','<p>Мы поговорили с Анной о ее пути в йоге...</p>','2023-11-10 15:45:00'),
(4,7,'Польза медитации на природе','<p>Современные исследования подтверждают...</p>','2023-11-15 11:00:00'),
(5,3,'Что такое Аштанга-йога?','<p>Рассказываем о мощной и динамичной системе...</p>','2023-11-20 14:15:00'),
(6,5,'Обзор нашего ретрита в Карпатах','<p>Фотоотчет и впечатления участников...</p>','2024-03-23 10:30:00'),
(7,4,'Йога и питание: принципы аюрведы','<p>Как питаться в соответствии со своей дошей...</p>','2023-12-01 16:20:00'),
(8,1,'10 асан для снятия стресса','<p>Простой комплекс для выполнения дома...</p>','2023-12-05 08:40:00'),
(9,2,'Виньяса-флоу: музыка для практики','<p>Подборка треков от нашего инструктора Софии...</p>','2023-12-10 13:50:00'),
(10,5,'Итоги года: самые популярные ретриты','<p>Давайте посмотрим, куда ездили наши гости...</p>','2023-12-28 17:00:00')
ON CONFLICT (id) DO NOTHING;

-- SESSIONS (map your token to sid, put user_id into sess JSON, set expire)
INSERT INTO sessions (sid, sess, expire) VALUES
('eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...', '{"user_id":1}', '2024-02-01 14:00:00'),
('fGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9eyJhb...', '{"user_id":2}', '2024-02-02 16:30:00'),
('CiOiJIUzI1NiIsInR5cCI6IkpXVCJ9eyJhbGf...', '{"user_id":3}', '2024-02-03 09:15:00'),
('I1NiIsInR5cCI6IkpXVCJ9eyJhbGciOiJIUz...', '{"user_id":4}', '2024-02-01 18:20:00'),
('J9eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVC...', '{"user_id":5}', '2024-02-10 11:00:00'),
('GciOiJIUzI1NiIsInR5cCI6IkpXVCJ9eyJhb...', '{"user_id":6}', '2024-02-02 12:45:00'),
('zI1NiIsInR5cCI6IkpXVCJ9eyJhbGciOiJIU...', '{"user_id":1}', '2024-02-05 10:30:00'),
('InR5cCI6IkpXVCJ9eyJhbGciOiJIUzI1NiIs...', '{"user_id":7}', '2024-02-04 15:10:00'),
('pXVCJ9eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...', '{"user_id":8}', '2024-02-03 17:50:00'),
('JhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9ey...', '{"user_id":9}', '2024-02-06 08:00:00')
ON CONFLICT (sid) DO NOTHING;

COMMIT;
